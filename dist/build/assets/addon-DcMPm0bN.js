const $=window.Vue,{BaseTransition:ce,BaseTransitionPropsValidators:me,Comment:ge,DeprecationTypes:pe,EffectScope:fe,ErrorCodes:ve,ErrorTypeStrings:Se,Fragment:M,KeepAlive:Ce,ReactiveEffect:he,Static:be,Suspense:ye,Teleport:xe,Text:Te,TrackOpTypes:_e,Transition:we,TransitionGroup:Pe,TriggerOpTypes:Re,VueElement:ke,__esModule:Ae,assertNumber:De,callWithAsyncErrorHandling:Ie,callWithErrorHandling:Me,camelize:Ee,capitalize:Le,cloneVNode:Ue,compatUtils:He,compile:Ve,computed:Be,createApp:Fe,createBlock:b,createCommentVNode:p,createElementBlock:_,createElementVNode:T,createHydrationRenderer:$e,createPropsRestProxy:Oe,createRenderer:Ge,createSSRApp:Ne,createSlots:ze,createStaticVNode:Ke,createTextVNode:A,createVNode:t,customRef:je,defineAsyncComponent:We,defineComponent:qe,defineCustomElement:Qe,defineEmits:Je,defineExpose:Xe,defineModel:Ye,defineOptions:Ze,defineProps:et,defineSSRCustomElement:tt,defineSlots:rt,devtools:nt,effect:it,effectScope:at,getCurrentInstance:H,getCurrentScope:lt,getCurrentWatcher:ot,getTransitionRawChildren:st,guardReactiveProps:dt,h:ut,handleError:ct,hasInjectionContext:mt,hydrate:gt,hydrateOnIdle:pt,hydrateOnInteraction:ft,hydrateOnMediaQuery:vt,hydrateOnVisible:St,initCustomFormatter:Ct,initDirectivesForSSR:ht,inject:bt,isMemoSame:yt,isProxy:xt,isReactive:Tt,isReadonly:_t,isRef:wt,isRuntimeOnly:Pt,isShallow:Rt,isVNode:kt,markRaw:At,mergeDefaults:Dt,mergeModels:It,mergeProps:Mt,nextTick:Et,nodeOps:Lt,normalizeClass:Ut,normalizeProps:Ht,normalizeStyle:Vt,onActivated:Bt,onBeforeMount:Ft,onBeforeUnmount:$t,onBeforeUpdate:Ot,onDeactivated:Gt,onErrorCaptured:Nt,onMounted:O,onRenderTracked:zt,onRenderTriggered:Kt,onScopeDispose:jt,onServerPrefetch:Wt,onUnmounted:G,onUpdated:qt,onWatcherCleanup:Qt,openBlock:u,patchProp:Jt,popScopeId:Xt,provide:Yt,proxyRefs:Zt,pushScopeId:er,queuePostFlushCb:tr,reactive:rr,readonly:nr,ref:m,registerRuntimeCompiler:ir,render:ar,renderList:N,renderSlot:lr,resolveComponent:or,resolveDirective:sr,resolveDynamicComponent:dr,resolveFilter:ur,resolveTransitionHooks:cr,setBlockTracking:mr,setDevtoolsHook:gr,setTransitionHooks:pr,shallowReactive:fr,shallowReadonly:vr,shallowRef:Sr,ssrContextKey:Cr,ssrUtils:hr,stop:br,toDisplayString:S,toHandlerKey:yr,toHandlers:xr,toRaw:Tr,toRef:_r,toRefs:wr,toValue:Pr,transformVNodeArgs:Rr,triggerRef:kr,unref:e,useAttrs:Ar,useCssModule:Dr,useCssVars:Ir,useHost:Mr,useId:Er,useModel:Lr,useSSRContext:Ur,useShadowRoot:Hr,useSlots:Vr,useTemplateRef:z,useTransitionState:Br,vModelCheckbox:Fr,vModelDynamic:$r,vModelRadio:Or,vModelSelect:Gr,vModelText:Nr,vShow:zr,version:Kr,warn:jr,watch:K,watchEffect:Wr,watchPostEffect:qr,watchSyncEffect:Qr,withAsyncContext:Jr,withCtx:r,withDefaults:Xr,withDirectives:Yr,withKeys:Zr,withMemo:en,withModifiers:tn,withScopeId:rn}=$,{Form:nn,Head:V,Link:an,router:w,toggleArchitecturalBackground:ln,useArchitecturalBackground:on,useForm:sn,usePoll:dn}=__STATAMIC__.inertia,{Alert:un,AuthCard:cn,Avatar:mn,Badge:D,Button:f,ButtonGroup:j,Calendar:gn,Card:pn,CardList:fn,CardListItem:vn,CardPanel:Sn,CharacterCounter:Cn,Checkbox:hn,CheckboxGroup:bn,CodeEditor:yn,Combobox:xn,CommandPaletteItem:Tn,ConfirmationModal:W,Context:_n,ContextFooter:wn,ContextHeader:Pn,ContextItem:Rn,ContextLabel:kn,ContextMenu:An,ContextSeparator:Dn,CreateForm:In,DatePicker:Mn,DateRangePicker:En,Description:Ln,DocsCallout:Un,DragHandle:Hn,Dropdown:L,DropdownItem:B,DropdownLabel:q,DropdownMenu:U,DropdownSeparator:Vn,DropdownFooter:Bn,DropdownHeader:Fn,Editable:$n,ErrorMessage:On,EmptyStateItem:Gn,EmptyStateMenu:Nn,Field:zn,Header:F,Heading:Kn,HoverCard:jn,Icon:Wn,Input:qn,InputGroup:Qn,InputGroupAppend:Jn,InputGroupPrepend:Xn,Label:Yn,Listing:Q,ListingCustomizeColumns:Zn,ListingFilters:ei,ListingHeaderCell:ti,ListingPagination:ri,ListingPresets:ni,ListingPresetTrigger:ii,ListingRowActions:ai,ListingSearch:li,ListingTable:oi,ListingTableBody:si,ListingTableHead:di,ListingToggleAll:ui,LivePreview:ci,LivePreviewPopout:mi,Modal:gi,ModalClose:pi,ModalTitle:fi,Pagination:vi,Panel:Si,PanelFooter:Ci,PanelHeader:hi,Popover:bi,PublishComponents:yi,PublishContainer:J,publishContextKey:xi,injectPublishContext:Ti,PublishField:_i,PublishFields:wi,PublishFieldsProvider:Pi,PublishForm:Ri,PublishLocalizations:ki,PublishSections:Ai,PublishTabs:X,Radio:E,RadioGroup:Y,Select:Di,Separator:Ii,Slider:Mi,Skeleton:Ei,SplitterGroup:Li,SplitterPanel:Ui,SplitterResizeHandle:Hi,StatusIndicator:Z,Subheading:Vi,Switch:Bi,TabContent:Fi,Stack:$i,StackClose:Oi,StackHeader:Gi,StackFooter:Ni,StackContent:zi,Table:Ki,TableCell:ji,TableColumn:Wi,TableColumns:qi,TableRow:Qi,TableRows:Ji,TabList:Xi,TabProvider:Yi,Tabs:Zi,TabTrigger:ea,Textarea:ta,TimePicker:ra,ToggleGroup:na,ToggleItem:ia,Widget:aa,registerIconSet:la,registerIconSetFromStrings:oa}=__STATAMIC__.ui,ee={class:"max-w-6xl mx-auto"},te={class:"flex items-center gap-2"},re=["href"],ne=["href"],ie={key:1,class:"p-8 text-center text-gray-500"},ae={__name:"Index",props:{title:String,redirects:Array,columns:Array,createUrl:String,reorderUrl:String,actionUrl:String,multiSiteEnabled:Boolean},setup(n){const s=n,v=H(),d=m(!1),g=m(null),P=m(0);function R(l){g.value=l}function k(){if(!g.value){d.value=!1;return}const l=g.value.map(o=>o.id);v.proxy.$axios.post(s.reorderUrl,{order:l}).then(()=>{Statamic.$toast.success(__("simple-redirects::messages.redirects_reordered")),g.value=null,d.value=!1}).catch(()=>{Statamic.$toast.error(__("simple-redirects::messages.order_save_failed"))})}function C(){g.value=null,d.value=!1,P.value++}return(l,o)=>(u(),_(M,null,[t(e(V),{title:n.title},null,8,["title"]),T("div",ee,[t(e(F),{title:n.title,icon:"moved"},{default:r(()=>[!d.value&&n.redirects.length>1?(u(),b(e(f),{key:0,onClick:o[0]||(o[0]=a=>d.value=!0),text:l.__("Reorder")},null,8,["text"])):p("",!0),d.value?(u(),_(M,{key:1},[t(e(f),{onClick:C,text:l.__("Cancel")},null,8,["text"]),t(e(f),{onClick:k,text:l.__("Save Order"),variant:"primary"},null,8,["text"])],64)):p("",!0),d.value?p("",!0):(u(),b(e(f),{key:2,text:l.__("Create Redirect"),href:n.createUrl,variant:"primary"},null,8,["text","href"]))]),_:1},8,["title"]),n.redirects.length>0?(u(),b(e(Q),{key:P.value,items:n.redirects,columns:n.columns,"action-url":n.actionUrl,"allow-search":!0,"allow-customizing-columns":!1,"allow-presets":!1,reorderable:d.value,sortable:!1,onReordered:R,onRefreshing:o[1]||(o[1]=a=>e(w).reload())},{"cell-source":r(({row:a,value:y})=>[T("div",te,[t(e(Z),{status:a.enabled?"published":"draft"},null,8,["status"]),T("a",{href:a.edit_url,class:"slug-index-field"},S(y),9,re),n.multiSiteEnabled&&a.sites?.length?(u(!0),_(M,{key:0},N(a.sites,x=>(u(),b(e(D),{key:x},{default:r(()=>[A(S(x),1)]),_:2},1024))),128)):p("",!0)])]),"cell-destination":r(({row:a,value:y})=>[T("a",{href:a.edit_url,class:"slug-index-field"},S(y),9,ne)]),"cell-type":r(({value:a})=>[t(e(D),null,{default:r(()=>[A(S(a),1)]),_:2},1024)]),"cell-regex":r(({value:a})=>[a?(u(),b(e(D),{key:0},{default:r(()=>[...o[2]||(o[2]=[A("Regex",-1)])]),_:1})):p("",!0)]),"cell-status_code":r(({value:a})=>[t(e(D),null,{default:r(()=>[A(S(a),1)]),_:2},1024)]),"prepended-row-actions":r(({row:a})=>[t(e(B),{text:l.__("Edit"),icon:"pencil",href:a.edit_url},null,8,["text","href"])]),_:1},8,["items","columns","action-url","reorderable"])):p("",!0),n.redirects.length?p("",!0):(u(),_("div",ie,[T("p",null,S(l.__("No redirects found.")),1),t(e(f),{text:l.__("Create your first redirect"),href:n.createUrl,variant:"primary",class:"mt-4"},null,8,["text","href"])]))])],64))}},{AfterSaveHooks:le,BeforeSaveHooks:oe,Pipeline:se,PipelineStopped:sa,Request:de}=__STATAMIC__.savePipeline,I="redirects.after_save",ue={__name:"Publish",props:{title:String,icon:String,blueprint:Object,values:Object,meta:Object,submitUrl:String,listingUrl:String,createAnotherUrl:String,deleteUrl:String,isCreating:{type:Boolean,default:!0}},setup(n){const s=n,v=H(),d=z("container"),g=m(s.values),P=m(s.meta),R=m({}),k=m(!1),C=m(!1),l=m(!1),o=m("listing");let a;O(()=>{o.value=v.proxy.$preferences.get(I)||"listing",a=Statamic.$keys.bindGlobal(["mod+s"],i=>{i.preventDefault(),x()})}),G(()=>a?.destroy()),K(o,i=>{i!==v.proxy.$preferences.get(I)&&(i==="listing"?v.proxy.$preferences.remove(I):v.proxy.$preferences.set(I,i))});function y(){l.value=!0,v.proxy.$axios.delete(s.deleteUrl).then(()=>{Statamic.$toast.success(__("simple-redirects::messages.redirect_deleted")),w.visit(s.listingUrl)}).catch(()=>{Statamic.$toast.error(__("Something went wrong")),l.value=!1,C.value=!1})}function x(){new se().provide({container:d,errors:R,saving:k}).through([new oe("redirect",{values:g.value}),new de(s.submitUrl,s.isCreating?"post":"patch"),new le("redirect",{isCreating:s.isCreating})]).then(i=>{const c=s.isCreating?__("simple-redirects::messages.redirect_created"):__("simple-redirects::messages.redirect_saved");if(Statamic.$toast.success(c),o.value==="create_another"){w.visit(s.createAnotherUrl);return}if(o.value==="continue_editing"){s.isCreating&&i.data.redirect&&w.visit(i.data.redirect);return}w.visit(s.listingUrl)})}return(i,c)=>(u(),_(M,null,[t(e(V),{title:n.title},null,8,["title"]),t(e(F),{title:n.title,icon:n.icon},{default:r(()=>[n.isCreating?p("",!0):(u(),b(e(L),{key:0,align:"end"},{trigger:r(()=>[t(e(f),{icon:"dots",variant:"ghost","aria-label":i.__("Open dropdown menu")},null,8,["aria-label"])]),default:r(()=>[t(e(U),null,{default:r(()=>[t(e(B),{text:i.__("Delete"),icon:"trash",variant:"destructive",onClick:c[0]||(c[0]=h=>C.value=!0)},null,8,["text"])]),_:1})]),_:1})),t(e(j),null,{default:r(()=>[t(e(f),{variant:"primary",text:i.__("Save"),disabled:k.value,onClick:x},null,8,["text","disabled"]),t(e(L),{align:"end"},{trigger:r(()=>[t(e(f),{variant:"primary",icon:"chevron-down","aria-label":i.__("Save options")},null,8,["aria-label"])]),default:r(()=>[t(e(U),null,{default:r(()=>[t(e(q),{id:"after-saving-label",textContent:S(i.__("After Saving"))},null,8,["textContent"]),t(e(Y),{modelValue:o.value,"onUpdate:modelValue":c[1]||(c[1]=h=>o.value=h),"aria-labelledby":"after-saving-label"},{default:r(()=>[t(e(E),{label:i.__("Go To Listing"),value:"listing"},null,8,["label"]),t(e(E),{label:i.__("Continue Editing"),value:"continue_editing"},null,8,["label"]),t(e(E),{label:i.__("Create Another"),value:"create_another"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","icon"]),t(e(J),{ref_key:"container",ref:d,name:n.title,blueprint:n.blueprint,meta:P.value,errors:R.value,modelValue:g.value,"onUpdate:modelValue":c[2]||(c[2]=h=>g.value=h)},{default:r(()=>[t(e(X))]),_:1},8,["name","blueprint","meta","errors","modelValue"]),t(e(W),{open:C.value,"onUpdate:open":c[3]||(c[3]=h=>C.value=h),title:i.__("Delete"),"body-text":i.__("simple-redirects::messages.delete_confirmation"),"button-text":i.__("Delete"),busy:l.value,danger:"",onConfirm:y},null,8,["open","title","body-text","button-text","busy"])],64))}};Statamic.booting(()=>{Statamic.$inertia.register("simple-redirects::Index",ae),Statamic.$inertia.register("simple-redirects::Publish",ue)});
