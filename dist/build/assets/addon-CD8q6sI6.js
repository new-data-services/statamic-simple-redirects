const $=window.Vue,{BaseTransition:ce,BaseTransitionPropsValidators:me,Comment:ge,DeprecationTypes:pe,EffectScope:fe,ErrorCodes:ve,ErrorTypeStrings:Ce,Fragment:I,KeepAlive:Se,ReactiveEffect:he,Static:be,Suspense:ye,Teleport:xe,Text:Te,TrackOpTypes:we,Transition:Pe,TransitionGroup:_e,TriggerOpTypes:Re,VueElement:ke,__esModule:Ae,assertNumber:De,callWithAsyncErrorHandling:Ie,callWithErrorHandling:Me,camelize:Ee,capitalize:Le,cloneVNode:Ue,compatUtils:He,compile:Ve,computed:Fe,createApp:Be,createBlock:x,createCommentVNode:v,createElementBlock:k,createElementVNode:y,createHydrationRenderer:$e,createPropsRestProxy:Oe,createRenderer:ze,createSSRApp:Ge,createSlots:Ne,createStaticVNode:Ke,createTextVNode:A,createVNode:t,customRef:je,defineAsyncComponent:We,defineComponent:qe,defineCustomElement:Qe,defineEmits:Je,defineExpose:Xe,defineModel:Ye,defineOptions:Ze,defineProps:et,defineSSRCustomElement:tt,defineSlots:rt,devtools:nt,effect:it,effectScope:at,getCurrentInstance:H,getCurrentScope:ot,getCurrentWatcher:lt,getTransitionRawChildren:st,guardReactiveProps:dt,h:ut,handleError:ct,hasInjectionContext:mt,hydrate:gt,hydrateOnIdle:pt,hydrateOnInteraction:ft,hydrateOnMediaQuery:vt,hydrateOnVisible:Ct,initCustomFormatter:St,initDirectivesForSSR:ht,inject:bt,isMemoSame:yt,isProxy:xt,isReactive:Tt,isReadonly:wt,isRef:Pt,isRuntimeOnly:_t,isShallow:Rt,isVNode:kt,markRaw:At,mergeDefaults:Dt,mergeModels:It,mergeProps:Mt,nextTick:Et,nodeOps:Lt,normalizeClass:Ut,normalizeProps:Ht,normalizeStyle:Vt,onActivated:Ft,onBeforeMount:Bt,onBeforeUnmount:$t,onBeforeUpdate:Ot,onDeactivated:zt,onErrorCaptured:Gt,onMounted:O,onRenderTracked:Nt,onRenderTriggered:Kt,onScopeDispose:jt,onServerPrefetch:Wt,onUnmounted:z,onUpdated:qt,onWatcherCleanup:Qt,openBlock:g,patchProp:Jt,popScopeId:Xt,provide:Yt,proxyRefs:Zt,pushScopeId:er,queuePostFlushCb:tr,reactive:rr,readonly:nr,ref:c,registerRuntimeCompiler:ir,render:ar,renderList:or,renderSlot:lr,resolveComponent:sr,resolveDirective:dr,resolveDynamicComponent:ur,resolveFilter:cr,resolveTransitionHooks:mr,setBlockTracking:gr,setDevtoolsHook:pr,setTransitionHooks:fr,shallowReactive:vr,shallowReadonly:Cr,shallowRef:Sr,ssrContextKey:hr,ssrUtils:br,stop:yr,toDisplayString:h,toHandlerKey:xr,toHandlers:Tr,toRaw:wr,toRef:Pr,toRefs:_r,toValue:Rr,transformVNodeArgs:kr,triggerRef:Ar,unref:e,useAttrs:Dr,useCssModule:Ir,useCssVars:Mr,useHost:Er,useId:Lr,useModel:Ur,useSSRContext:Hr,useShadowRoot:Vr,useSlots:Fr,useTemplateRef:G,useTransitionState:Br,vModelCheckbox:$r,vModelDynamic:Or,vModelRadio:zr,vModelSelect:Gr,vModelText:Nr,vShow:Kr,version:jr,warn:Wr,watch:N,watchEffect:qr,watchPostEffect:Qr,watchSyncEffect:Jr,withAsyncContext:Xr,withCtx:i,withDefaults:Yr,withDirectives:Zr,withKeys:en,withMemo:tn,withModifiers:rn,withScopeId:nn}=$,{Form:an,Head:V,Link:on,router:T,toggleArchitecturalBackground:ln,useArchitecturalBackground:sn,useForm:dn,usePoll:un}=__STATAMIC__.inertia,{Alert:cn,AuthCard:mn,Avatar:gn,Badge:E,Button:p,ButtonGroup:K,Calendar:pn,Card:fn,CardList:vn,CardListItem:Cn,CardPanel:Sn,CharacterCounter:hn,Checkbox:bn,CheckboxGroup:yn,CodeEditor:xn,Combobox:Tn,CommandPaletteItem:wn,ConfirmationModal:j,Context:Pn,ContextFooter:_n,ContextHeader:Rn,ContextItem:kn,ContextLabel:An,ContextMenu:Dn,ContextSeparator:In,CreateForm:Mn,DatePicker:En,DateRangePicker:Ln,Description:Un,DocsCallout:Hn,DragHandle:Vn,Dropdown:L,DropdownItem:F,DropdownLabel:W,DropdownMenu:U,DropdownSeparator:Fn,DropdownFooter:Bn,DropdownHeader:$n,Editable:On,ErrorMessage:zn,EmptyStateItem:Gn,EmptyStateMenu:Nn,Field:Kn,Header:B,Heading:jn,HoverCard:Wn,Icon:qn,Input:Qn,InputGroup:Jn,InputGroupAppend:Xn,InputGroupPrepend:Yn,Label:Zn,Listing:q,ListingCustomizeColumns:ei,ListingFilters:ti,ListingHeaderCell:ri,ListingPagination:ni,ListingPresets:ii,ListingPresetTrigger:ai,ListingRowActions:oi,ListingSearch:li,ListingTable:si,ListingTableBody:di,ListingTableHead:ui,ListingToggleAll:ci,LivePreview:mi,LivePreviewPopout:gi,Modal:pi,ModalClose:fi,ModalTitle:vi,Pagination:Ci,Panel:Si,PanelFooter:hi,PanelHeader:bi,Popover:yi,PublishComponents:xi,PublishContainer:Q,publishContextKey:Ti,injectPublishContext:wi,PublishField:Pi,PublishFields:_i,PublishFieldsProvider:Ri,PublishForm:ki,PublishLocalizations:Ai,PublishSections:Di,PublishTabs:J,Radio:D,RadioGroup:X,Select:Ii,Separator:Mi,Slider:Ei,Skeleton:Li,SplitterGroup:Ui,SplitterPanel:Hi,SplitterResizeHandle:Vi,StatusIndicator:Y,Subheading:Fi,Switch:Bi,TabContent:$i,Stack:Oi,StackClose:zi,StackHeader:Gi,StackFooter:Ni,StackContent:Ki,Table:ji,TableCell:Wi,TableColumn:qi,TableColumns:Qi,TableRow:Ji,TableRows:Xi,TabList:Yi,TabProvider:Zi,Tabs:ea,TabTrigger:ta,Textarea:ra,TimePicker:na,ToggleGroup:ia,ToggleItem:aa,Widget:oa,registerIconSet:la,registerIconSetFromStrings:sa}=__STATAMIC__.ui,Z={class:"max-w-6xl mx-auto"},ee={class:"flex items-center gap-2"},te=["href"],re=["href"],ne={key:1,class:"p-8 text-center text-gray-500"},ie="simple-redirects",ae={__name:"Index",props:{title:String,redirects:Array,columns:Array,createUrl:String,reorderUrl:String,actionUrl:String},setup(n){const s=n,f=H(),d=c(!1),m=c(null),w=c(0);function P(o){m.value=o}function _(){if(!m.value){d.value=!1;return}const o=m.value.map(l=>l.id);f.proxy.$axios.post(s.reorderUrl,{order:o}).then(()=>{Statamic.$toast.success(__("simple-redirects::messages.redirects_reordered")),m.value=null,d.value=!1}).catch(()=>{Statamic.$toast.error(__("simple-redirects::messages.order_save_failed"))})}function C(){m.value=null,d.value=!1,w.value++}return(o,l)=>(g(),k(I,null,[t(e(V),{title:n.title},null,8,["title"]),y("div",Z,[t(e(B),{title:n.title,icon:"moved"},{default:i(()=>[!d.value&&n.redirects.length>1?(g(),x(e(p),{key:0,onClick:l[0]||(l[0]=a=>d.value=!0),text:o.__("Reorder")},null,8,["text"])):v("",!0),d.value?(g(),k(I,{key:1},[t(e(p),{onClick:C,text:o.__("Cancel")},null,8,["text"]),t(e(p),{onClick:_,text:o.__("Save Order"),variant:"primary"},null,8,["text"])],64)):v("",!0),d.value?v("",!0):(g(),x(e(p),{key:2,text:o.__("Create Redirect"),href:n.createUrl,variant:"primary"},null,8,["text","href"]))]),_:1},8,["title"]),n.redirects.length>0?(g(),x(e(q),{key:w.value,items:n.redirects,columns:n.columns,"action-url":n.actionUrl,"preferences-prefix":ie,"allow-search":!0,"allow-customizing-columns":!0,"allow-presets":!1,reorderable:d.value,sortable:!1,onReordered:P,onRefreshing:l[1]||(l[1]=a=>e(T).reload())},{"cell-source":i(({row:a,value:b})=>[y("div",ee,[t(e(Y),{status:a.enabled?"published":"draft"},null,8,["status"]),y("a",{href:a.edit_url,class:"slug-index-field"},h(b),9,te)])]),"cell-destination":i(({row:a,value:b})=>[y("a",{href:a.edit_url,class:"slug-index-field"},h(b),9,re)]),"cell-sites":i(({value:a})=>[A(h(a),1)]),"cell-regex":i(({value:a})=>[a?(g(),x(e(E),{key:0,size:"sm"},{default:i(()=>[...l[2]||(l[2]=[A("Regex",-1)])]),_:1})):v("",!0)]),"cell-status_code":i(({value:a})=>[t(e(E),{size:"sm"},{default:i(()=>[A(h(a),1)]),_:2},1024)]),"prepended-row-actions":i(({row:a})=>[t(e(F),{text:o.__("Edit"),icon:"pencil",href:a.edit_url},null,8,["text","href"])]),_:1},8,["items","columns","action-url","reorderable"])):v("",!0),n.redirects.length?v("",!0):(g(),k("div",ne,[y("p",null,h(o.__("No redirects found.")),1),t(e(p),{text:o.__("Create your first redirect"),href:n.createUrl,variant:"primary",class:"mt-4"},null,8,["text","href"])]))])],64))}},{AfterSaveHooks:oe,BeforeSaveHooks:le,Pipeline:se,PipelineStopped:da,Request:de}=__STATAMIC__.savePipeline,R="simple-redirects.after_save",ue={__name:"Publish",props:{title:String,icon:String,blueprint:Object,values:Object,meta:Object,submitUrl:String,listingUrl:String,createAnotherUrl:String,deleteUrl:String,isCreating:{type:Boolean,default:!0}},setup(n){const s=n,f=H(),d=G("container"),m=c(s.values),w=c(s.meta),P=c({}),_=c(!1),C=c(!1),o=c(!1),l=c("listing");let a;O(()=>{l.value=f.proxy.$preferences.get(R)||"listing",a=Statamic.$keys.bindGlobal(["mod+s"],r=>{r.preventDefault(),M()})}),z(()=>a?.destroy()),N(l,r=>{r!==f.proxy.$preferences.get(R)&&(r==="listing"?f.proxy.$preferences.remove(R):f.proxy.$preferences.set(R,r))});function b(){o.value=!0,f.proxy.$axios.delete(s.deleteUrl).then(()=>{Statamic.$toast.success(__("simple-redirects::messages.redirect_deleted")),T.visit(s.listingUrl)}).catch(()=>{Statamic.$toast.error(__("Something went wrong")),o.value=!1,C.value=!1})}function M(){new se().provide({container:d,errors:P,saving:_}).through([new le("redirect",{values:m.value}),new de(s.submitUrl,s.isCreating?"post":"patch"),new oe("redirect",{isCreating:s.isCreating})]).then(r=>{const u=s.isCreating?__("simple-redirects::messages.redirect_created"):__("simple-redirects::messages.redirect_saved");if(Statamic.$toast.success(u),l.value==="create_another"){T.visit(s.createAnotherUrl);return}if(l.value==="continue_editing"){s.isCreating&&r.data.redirect&&T.visit(r.data.redirect);return}T.visit(s.listingUrl)})}return(r,u)=>(g(),k(I,null,[t(e(V),{title:n.title},null,8,["title"]),t(e(B),{title:n.title,icon:n.icon},{default:i(()=>[n.isCreating?v("",!0):(g(),x(e(L),{key:0,align:"end"},{trigger:i(()=>[t(e(p),{icon:"dots",variant:"ghost","aria-label":r.__("Open dropdown menu")},null,8,["aria-label"])]),default:i(()=>[t(e(U),null,{default:i(()=>[t(e(F),{text:r.__("Delete"),icon:"trash",variant:"destructive",onClick:u[0]||(u[0]=S=>C.value=!0)},null,8,["text"])]),_:1})]),_:1})),t(e(K),null,{default:i(()=>[t(e(p),{variant:"primary",text:r.__("Save"),disabled:_.value,onClick:M},null,8,["text","disabled"]),t(e(L),{align:"end"},{trigger:i(()=>[t(e(p),{variant:"primary",icon:"chevron-down","aria-label":r.__("Save options")},null,8,["aria-label"])]),default:i(()=>[t(e(U),null,{default:i(()=>[t(e(W),{id:"after-saving-label",textContent:h(r.__("After Saving"))},null,8,["textContent"]),t(e(X),{modelValue:l.value,"onUpdate:modelValue":u[1]||(u[1]=S=>l.value=S),"aria-labelledby":"after-saving-label"},{default:i(()=>[t(e(D),{label:r.__("Go To Listing"),value:"listing"},null,8,["label"]),t(e(D),{label:r.__("Continue Editing"),value:"continue_editing"},null,8,["label"]),t(e(D),{label:r.__("Create Another"),value:"create_another"},null,8,["label"])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","icon"]),t(e(Q),{ref_key:"container",ref:d,name:n.title,blueprint:n.blueprint,meta:w.value,errors:P.value,modelValue:m.value,"onUpdate:modelValue":u[2]||(u[2]=S=>m.value=S)},{default:i(()=>[t(e(J))]),_:1},8,["name","blueprint","meta","errors","modelValue"]),t(e(j),{open:C.value,"onUpdate:open":u[3]||(u[3]=S=>C.value=S),title:r.__("Delete"),"body-text":r.__("simple-redirects::messages.delete_confirmation"),"button-text":r.__("Delete"),busy:o.value,danger:"",onConfirm:b},null,8,["open","title","body-text","button-text","busy"])],64))}};Statamic.booting(()=>{Statamic.$inertia.register("simple-redirects::Index",ae),Statamic.$inertia.register("simple-redirects::Publish",ue)});
